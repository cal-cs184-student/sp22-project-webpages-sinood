<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<style>
  body {
    padding: 100px;
    width: 1000px;
    margin: auto;
    text-align: left;
    font-weight: 300;
    font-family: 'Open Sans', sans-serif;
    color: #121212;
  }
  h1, h2, h3, h4 {
    font-family: 'Source Sans Pro', sans-serif;
  }
</style>
<title>CS 184 Final Project</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link href="https://fonts.googleapis.com/css?family=Open+Sans|Source+Sans+Pro" rel="stylesheet">
</head>


<body>

<h2 align="middle">UC Berkeley</h2>
<h1 align="middle">CS 184: Computer Graphics and Imaging, Spring 2022</h1>
<h1 align="middle">Final Project: Realistic Fluid Simulation</h1>
<h2 align="middle">Ashvin Dhawan, CS184</h2>
<h2 align="middle">Jacob Jiang, CS184</h2>
<h2 align="middle">Yassin Oulad Daoud, CS184</h2>
<h2 align="middle">Ishil Puri, CS184</h2>

<br><br>

<div>

<h1 align="middle">Milestone Report</h1>
    <h2>Progess</h2>
    <p>At this point in our fluid simulation project, we have set up our GUI with a "tank" filled with particles suspended in the air. At the moment, the particles fall to the floor of the tank and collapse on one another. We have much to do still in terms of implementing the Position Based Fluid simulation based on the paper by Macklin and Mueller, which will consist of adding loops to our algorithm to compute the particle density functions that determine the position of groups of particles in relation to one another. We decided to use a pre-made GUI as a starting point for our project, since our priary goal was really to implement the physics of the fluid simulation. For this reason, we are using the GUI and OpenCL framework from <a href="https://github.com/yaoius/f2">Dillon Yao's fluid simulator project</a>, which conveniently has a basic GUI set up for testing our physics simulation and encapsulates all of the physics functions in a separate .cl file. We are replacing the .cl file with our own, so that we can implement the physics on our own and then focus on meeting our stretch goals.</p>
    <div align="center">
            <table style="width=100%">
                <tr>
                    <td align="middle">
                    <img src="images/fluid-sim-milestone.gif" width="320px" />
                    <figcaption align="middle">Current state of the fluid similator</figcaption>
                </tr>
            </table>
        </div>
    <p>This week, we first searched for various papers and academic articles to get a survey of different methods of fluid simulations. Some of the popular methods we encountered were the Boltzmann Equations, Navier-Stokes equations, Smoothed Particle Hydrodynamics, and Position-Based Fluid Dynamics. Each method was fairly unique and required a wholly different implementation, but certain implementations we found used multiple methods, such as combining Position-Based Fluid Dynamics with Smoothed Particle Hydrodynamics for pressure constraints. We also found various helpful slide decks and tutorials that will allow us to better understand the concrete computational implementations of the above methods.</p>
    <h2>Updates to our initial plans</h2>
    <p>In our initial proposal, we foresaw having to work more on the GUI; but now that we are working from the one made by Dillon we hope to make the physics implementation and some of our stretch goals, like implementing different shaders and simulating a lidui surface using a triangle mesh, the bulk of our project work. We have also decided to work with OpenCL to speed up our simulation, since this is a part of the structure of Dillon Yao's project that we are working from, and it will provide us a convenient way to implement our physics functions in a single .cl file (this will require us to become acquainted with this open-source GPU programming framework).</p>
    <p></p>
    <p>The following video summarizes our findings this week:</p>
    
<h1 align="middle">Project Proposal</h1>
    <h2>Summary</h2>
<p>For our final project, we plan to create an accurate particle based fluid simulation. Extending the concepts we learned from creating a spring-based cloth simulation, we plan to design a fluid model that mimics the properties fluids like water in various containers and scenarios.</p>
    <h2>Problem Description</h2>
    
    <p>In Project 4 of this class we studied how to simulate cloth using points and springs, which led us to an interest in simulating fluid, which has many applications including video games. We thought that the physics mechanisms behind the cloth and fluid could be intertwined. Furthermore, in our own experiences we’ve seen the implementation of fluids like water in various games like TF2 or COD. It is interesting to see how to create a water-like material that interacts with light even when the particles are moving. There are many other applications of this, for example, in real world simulators, or visualizing environmental issues like understanding how sun's irradiance could interact with water sources on earth due to a damaged ozone layer. We believe there may be challenges in replicating the exact physics behind each water particle and in being able to ensure accurate interactions between light and the water molecules to a fine degree. However, we think using a familiar approach, like creating segments of 3D volume that are affected by springs and forces, can give us a decent approximation. Additionally,  self-collision with water would be an interesting feature to analyze. We could attempt to create a gradient of colors for the water particles and as they collide observe how the colors mix and change. Overall, this will be an exciting topic to explore.</p>
    
    <h2>Goals and Deliverables</h2>
    
    <h3>Research Questions</h3>
    
    <li>How do physical equations govern the movement of fluids?</li>
    <li>How do these equations/properties change as the type of fluid changes?</li>
    <li>What parameters differentiate different types of fluids?</li>
    <li>How does co-interaction between particles and point masses change from solids like cloth to fluids?</li>
    <li>How does light interact with moving particles?</li>
    
    <h3>Primary Goals</h3>

    <p>Through this project, we hope to obtain an accurate simulation of various fluids in a variety of different scenes. More specifically, we aim to successfully perform the following tasks in order to call our project a success:</p>
    <li>Successfully generate particles that mimic the physical properties of water, consistent with generally accepted physical equations and properties</li>
    <li>Simulate the movement of water in various containers</li> 
    <p>We will attempt to create simulations of moving water–whether starting as a falling body or as a resting body subject to a perturbation–in various different scenes. These scenes include, but are not limited to, water falling into a cube-like structure, water falling into a cup/pitcher, or a dam being released. We hope that this also challenges us to render surfaces that act as the basis for our simulations. For our team, a successful project would be to create at least two different scenes with accurate particle simulation and writing.</p>
    
    <h3>Stretch goals</h3>
    
    <p>If we are able to successfully achieve our primary goals, we aim to do the following:</p>
    <li>Simulate large bodies of water, including the added characteristics that come with it such as undulations and perturbations</li>
    <li>Achieve faster rendering using some sort of acceleration structure</li>
    <p>We hope to extend our simulation to larger bodies of water, which has different properties as shown in the NVIDIA link provided in the Resources section. We also hope to accelerate our simulation renders if possible to get experience with various acceleration structures.</p>
    
    
    <h3>Deliverables and Evaluation</h3>
    <p>We plan to create multiple video demos and/or GIFs based on pre-computed simulations, hosted on YouTube and on our project webpage. In order to determine the success/quality of our simulations, we plan on comparing simple rendering scenarios with online videos to get a rough measure of accuracy. If we are able to reach our stretch goal of accelerating our simulation renders, we hope to include quantitative graphs demonstrating the speedup achieved.</p>
    
    
    
    <h2>Project Schedule</h2>
    <p>With roughly 4 weeks to complete this project, we plan to break the tasks up in the following phases:</p>
    <li>Phase 1 (Weeks 1-2): Developing the fluid dynamics system, working from the physics simulator in Project 4 and replacing the equations with those necessary for fluid simulation</li>
    <li>Phase 2 (Week 3): Learning Blender, simulating and rendering the multiple containers </li>
    <li>Phase 3 (Last week): Adjusting the fluid parameters and creating demos for the final presentation and writeup </li>
    <p>The above schedule accounts for meeting our primary project goals. If the major work phases (1 and 2) go well, we can on our stretch goals in the third week before finally developing our demos and presentation.</p>
    
    
    <h2>Resources</h2>
    <p>For mathematical models and algorithms for position-based fluid simulation, <a href = "http://mmacklin.com/pbf_sig_preprint.pdf">"Position Based Fluids" by Macklin and Mueller</a></p>
    <p>For different approaches and conceptual reference, these <a href = "http://www.cse.chalmers.se/edu/year/2018/course/TDA361/Advanced%20Computer%20Graphics/Position%20Based%20Fluids.pdf">lecture slides on position based fluids from the Chalmers University of Technology</a></p>
    <p>For conceptual help and writeup structuring, this <a href="https://ctknight.github.io/FluidSimulator/">"FluidSimulator" project by former CS 284 students</a> and this <a href="https://ctknight.github.io/FluidSimulator/">3D Position Based Fluid Simulation project by former CS 184 students</a></p>
    <p>For stretch goals: <a href = "https://developer.nvidia.com/gpugems/gpugems/part-i-natural-effects/chapter-1-effective-water-simulation-physical-models">Chapter from <i>GPU Gems</i> on rendering large bodies of water with Nvidia GPU</a>, as well as the student projects above</p>

</body>
</html>
